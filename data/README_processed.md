# Processed datasets

This folder contains datasets that have been processed into a format usable for final analyses. Scripts to clean the data are in [analysis/notebooks](https://github.com/codeforboston/clean-slate/tree/master/analyses/notebooks).

Please document your code (with comments mentioning how and why you've wrangled the dataset) and add your dataset to this readme with a quick blurb listing:
- its source (cleaned dataset or original source location)
- the script used to process the dataset
- extent (temporal/other windowing factors, size of the dataset, and if it's a sample, how large of a sample it is and how samples were chosen)
- any non-obvious variables (to newcomers to the dataset)
- and uses so far!

### Main files to use

|File / Folder|Description|Used / Generated by|
|----|----|----|
|[merged_nw.csv](merged_nw.csv)|Prosecution data from the Northwestern DA, merged with expungement information. **Issue with age data** age<0 should be replaced with missing or dropped from the file. |created by [MA_Data-2_MergeCharges_alt.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges_alt.ipynb) and updated by [sex_offenses_labelling.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/sex_offenses_labelling.ipynb)|
|[merged_suff.csv](merged_suff.csv)|Prosecution data from the Suffolk DA, merged with expungement information. **Does not have age data** |created by [MA_Data-2_MergeCharges_alt.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges_alt.ipynb) and updated by [sex_offenses_labelling.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/sex_offenses_labelling.ipynb)
|[merged_ms.csv](merged_ms.csv)|Prosecution data from the Middlesex DA, merged with expungement information. **Does not have age data, has juvenile v adult court** |created by [Middlesex_Clean](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/Middlesex_Clean.ipynb) and updated by [sex_offenses_labelling.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/sex_offenses_labelling.ipynb)
|[prosecution_charges_detailed.csv](prosecution_charges_detailed.csv)|Crosswalk of unique charges from NW and/or Suffolk prosecution data with expungement eligibility and  markers for sex and murder charges. **Note: does not include the additional edits from the [08-02 updates](https://github.com/codeforboston/clean-slate/blob/master/data/raw/missing_expungeability_08-02.csv), and does not include updated sex offense info from [sex_offenses_labelling](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/sex_offenses_labelling.ipynb)**|created by [MA_Data_revised_joining.R](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data_revised_joining.R), off of prosecution_charges (see table below), adding the 'extra criteria' beyond chapter and section that make an offense eligible or not.  

### Beware these files
They may be tricky, out of date, etc. This shows the progression of the data.

|File / Folder|Description|Used / Generated by|
|----|----|----|
|[prosecution_northwestern.csv](prosecution_northwestern.csv)|Prosecution data from the Northwestern DA, with an initial link to expungement info. Much of the expungability may be incorrect and/or missing -- there will be duplicate rows with one showing the offense is expungable, the other saying it is not. This is fixed in the versions of the file described above (merge_nw)|created by [MA_Data-2_MergeCharges.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges.ipynb)|
|[prosecution_suffolk.csv](prosecution_suffolk.csv)|Prosecution data from the Suffolk DA. Same issues as above. Note: age and DOB were not provided.|created by  [MA_Data-2_MergeCharges.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges.ipynb)|
|[prosecution_charges.csv](prosecution_charges.csv)|Unique charges that appear in prosecution data, with markers for sex and murder charges and expungement eligibility. <br><br> Original version was created from raw suffolk and NW data, collapsing to unique charge descriptions, extracting chapter & section, and merging on chapter & section with the `Master crime list` google excel sheet. <br><br>Next version added additional expungability info, from this sheet: [MA Prosecution Charges - Manual Identification of Chapter / Section / Expungability](https://docs.google.com/spreadsheets/d/1FwfKHgsOhKCi78itJEJlJC92Io7hh3L-LubLaU-9D3E/edit#gid=0) <br><br> Next version adds columns for whether the crime is sex or murder related, but this column has false positives and negatives.|created by  [MA_Data-2_MergeCharges.ipynb](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/MA_Data-2_MergeCharges.ipynb). Used as both an input and output of [new_expungability_info_join_emily.R](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/new_expungability_info_join_emily.R) and also [sex_murder_columns.R](https://github.com/codeforboston/clean-slate/blob/master/analyses/notebooks/sex_murder_columns.R)|
